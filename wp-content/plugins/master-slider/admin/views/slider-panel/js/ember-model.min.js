/*!
 * @overview  Ember-Model
 * https://github.com/ebryn/ember-model
 */
(function(){Ember.libraries&&Ember.libraries.register("Ember Model","0.0.11")})(),function(){function n(n){var t=function(){var t=this.constructor.toString();throw new Error(n.replace("{{className}}",t));};return t.isUnimplemented=!0,t}Ember.Adapter=Ember.Object.extend({find:n("{{className}} must implement find"),findQuery:n("{{className}} must implement findQuery"),findMany:n("{{className}} must implement findMany"),findAll:n("{{className}} must implement findAll"),createRecord:n("{{className}} must implement createRecord"),saveRecord:n("{{className}} must implement saveRecord"),deleteRecord:n("{{className}} must implement deleteRecord"),load:function(n,t,i){n.load(t,i)}})}(),function(){var n=Ember.get;Ember.FixtureAdapter=Ember.Adapter.extend({_findData:function(t,i){var r=t.FIXTURES,u=i.toString(),f=n(t,"primaryKey");return Ember.A(r).find(function(n){return n[f].toString()===u})},find:function(n,t){var i=this._findData(n.constructor,t);return new Ember.RSVP.Promise(function(r){Ember.run.later(this,function(){Ember.run(n,n.load,t,i),r(n)},0)})},findMany:function(n,t,i){for(var e=n.FIXTURES,u=[],r=0,f=i.length;r<f;r++)u.push(this._findData(n,i[r]));return new Ember.RSVP.Promise(function(i){Ember.run.later(this,function(){Ember.run(t,t.load,n,u),i(t)},0)})},findAll:function(n,t){var i=n.FIXTURES;return new Ember.RSVP.Promise(function(r){Ember.run.later(this,function(){Ember.run(t,t.load,n,i),r(t)},0)})},createRecord:function(n){var t=n.constructor,i=t.FIXTURES;return new Ember.RSVP.Promise(function(r){Ember.run.later(this,function(){i.push(t.findFromCacheOrLoad(n.toJSON())),n.didCreateRecord(),r(n)},0)})},saveRecord:function(n){return new Ember.RSVP.Promise(function(t){Ember.run.later(this,function(){n.didSaveRecord(),t(n)},0)})},deleteRecord:function(n){return new Ember.RSVP.Promise(function(t){Ember.run.later(this,function(){n.didDeleteRecord(),t(n)},0)})}})}(),function(){var t=Ember.get,n=Ember.set;Ember.RecordArray=Ember.ArrayProxy.extend(Ember.Evented,{isLoaded:!1,isLoading:Ember.computed.not("isLoaded"),load:function(t,i){n(this,"content",this.materializeData(t,i)),this.notifyLoaded()},loadForFindMany:function(i){var r=t(this,"_ids").map(function(n){return i.cachedRecordForId(n)});n(this,"content",Ember.A(r)),this.notifyLoaded()},notifyLoaded:function(){n(this,"isLoaded",!0),this.trigger("didLoad")},materializeData:function(n,t){return Ember.A(t.map(function(t){return n.findFromCacheOrLoad(t)}))},reload:function(){var t=this.get("modelClass"),r=this,i;return n(this,"isLoaded",!1),t._findAllRecordArray===this?t.adapter.findAll(t,this):this._query?t.adapter.findQuery(t,this,this._query):(i=this.map(function(n){return n.reload()}),Ember.RSVP.all(i).then(function(){r.notifyLoaded()}))}})}(),function(){var n=Ember.get;Ember.FilteredRecordArray=Ember.RecordArray.extend({init:function(){if(!n(this,"modelClass"))throw new Error("FilteredRecordArrays must be created with a modelClass");if(!n(this,"filterFunction"))throw new Error("FilteredRecordArrays must be created with a filterFunction");if(!n(this,"filterProperties"))throw new Error("FilteredRecordArrays must be created with filterProperties");var t=n(this,"modelClass");t.registerRecordArray(this),this.registerObservers(),this.updateFilter(),this._super()},updateFilter:function(){var i=this,t=[];n(this,"modelClass").forEachCachedRecord(function(n){i.filterFunction(n)&&t.push(n)}),this.set("content",Ember.A(t))},updateFilterForRecord:function(t){var i=n(this,"content");this.filterFunction(t)&&!i.contains(t)&&i.pushObject(t)},registerObservers:function(){var t=this;n(this,"modelClass").forEachCachedRecord(function(n){t.registerObserversOnRecord(n)})},registerObserversOnRecord:function(t){for(var f=this,r=n(this,"filterProperties"),i=0,u=n(r,"length");i<u;i++)t.addObserver(r[i],f,"updateFilterForRecord")}})}(),function(){var n=Ember.get,t=Ember.set;Ember.ManyArray=Ember.RecordArray.extend({_records:null,originalContent:[],isDirty:function(){var r=n(this,"originalContent"),o=n(r,"length"),u=n(this,"content"),f=n(u,"length"),i,t,e;if(o!==f)return!0;for(i=!1,t=0,e=f;t<e;t++)if(!r.contains(u[t])){i=!0;break}return i}.property("content.[]","originalContent"),objectAtContent:function(t){var i=n(this,"content");if(i.length)return this.materializeRecord(t)},save:function(){return Ember.RSVP.all(this.map(function(n){return n.save()}))},replaceContent:function(n,t,i){i=Ember.EnumerableUtils.map(i,function(n){return n._reference},this),this._super(n,t,i)},_contentWillChange:function(){var t=n(this,"content");t&&(t.removeArrayObserver(this),this._setupOriginalContent(t))}.observesBefore("content"),_contentDidChange:function(){var t=n(this,"content");t&&(t.addArrayObserver(this),this.arrayDidChange(t,0,0,n(t,"length")))}.observes("content"),arrayWillChange:function(){},arrayDidChange:function(){var t=n(this,"parent"),i=n(this,"relationshipKey"),r=n(this,"isDirty");r?t._relationshipBecameDirty(i):t._relationshipBecameClean(i)},_setupOriginalContent:function(i){i=i||n(this,"content"),i&&t(this,"originalContent",i.slice())},init:function(){this._super(),this._setupOriginalContent(),this._contentDidChange()}}),Ember.HasManyArray=Ember.ManyArray.extend({materializeRecord:function(t){var r=n(this,"modelClass"),u=n(this,"content"),i=u.objectAt(t);return i.record?i.record:r.find(i.id)},toJSON:function(){var n=[],t=this.get("content");return t.forEach(function(t){t.id!==undefined&&n.push(t.id)}),n}}),Ember.EmbeddedHasManyArray=Ember.ManyArray.extend({create:function(t){var r=n(this,"modelClass"),i=r.create(t);return this.pushObject(i),i},materializeRecord:function(t){var f=n(this,"modelClass"),e=n(f,"primaryKey"),o=n(this,"content"),i=o.objectAt(t),u=i.data,r;return i.record?i.record:(r=f.create({_reference:i}),i.record=r,u&&r.load(u[e],u),r)},toJSON:function(){return this.map(function(n){return n.toJSON()})}})}(),function(){function r(n,t){for(var i=0,r=n.length;i<r;i++)if(n[i]===t)return!0;return!1}function u(n,t){for(var u,i=0,f=t.length;i<f;i++)u=t[i],r(n,u)||n.push(u);return n}var n=Ember.get,t=Ember.set,e=Ember.setProperties,f=Ember.meta,i=Ember.String.underscore;Ember.run.queues.push("data"),Ember.Model=Ember.Object.extend(Ember.Evented,{isLoaded:!0,isLoading:Ember.computed.not("isLoaded"),isNew:!0,isDeleted:!1,_dirtyAttributes:null,getAttr:function(n,t){return t},isDirty:function(){var t=n(this,"_dirtyAttributes");return t&&t.length!==0||!1}.property("_dirtyAttributes.length"),_relationshipBecameDirty:function(t){var i=n(this,"_dirtyAttributes");i.contains(t)||i.pushObject(t)},_relationshipBecameClean:function(t){var i=n(this,"_dirtyAttributes");i.removeObject(t)},dataKey:function(t){var u=n(this.constructor,"camelizeKeys"),r=this.constructor.metaForProperty(t);return r.options&&r.options.key?u?i(r.options.key):r.options.key:u?i(t):t},init:function(){this._createReference(),this._dirtyAttributes||t(this,"_dirtyAttributes",[]),this._super()},_createReference:function(){var n=this._reference,t=this.getPrimaryKey();return n?n.id!==t&&(n.id=t,this.constructor._cacheReference(n)):(n=this.constructor._getOrCreateReferenceForId(t),n.record=this,this._reference=n),n.id||(n.id=t),n},getPrimaryKey:function(){return n(this,n(this.constructor,"primaryKey"))},load:function(i,r){var e={},o,l,s,a,h,c,u,f,v;for(e[n(this.constructor,"primaryKey")]=i,t(this,"_data",Ember.merge(e,r)),o=this.constructor._relationships||[],l=Ember.meta(this),f=0,v=o.length;f<v;f++)s=o[f],a=l.descs[s],h=a.meta(),h.options.embedded&&(u=h.type,typeof u=="string"&&(u=Ember.get(Ember.lookup,u)),c=e[s],c&&u.load(c));t(this,"isLoaded",!0),t(this,"isNew",!1),this._createReference(),this.trigger("didLoad")},didDefineProperty:function(n,t,i){if(i instanceof Ember.Descriptor){var u=i.meta(),r=n.constructor;u.isAttribute?(r._attributes||(r._attributes=[]),r._attributes.push(t)):u.isRelationship&&(r._relationships||(r._relationships=[]),r._relationships.push(t),u.relationshipKey=t)}},serializeHasMany:function(n){var t=this.get(n);return this.get(n).toJSON()},serializeBelongsTo:function(t,i){var r,u;return i.options.embedded?(r=this.get(t),r?r.toJSON():null):(u=n(i.getType(),"primaryKey"),this.get(t+"."+u))},toJSON:function(){var i,t,r={},s=this.constructor.getAttributes(),e=this.constructor.getRelationships(),u=s?this.getProperties(s):{},h=n(this.constructor,"rootKey"),c,l,f,o;for(i in u)t=this.constructor.metaForProperty(i),r[this.dataKey(i)]=t.type&&t.type.serialize?t.type.serialize(u[i]):t.type&&Ember.Model.dataTypes[t.type]?Ember.Model.dataTypes[t.type].serialize(u[i]):u[i];if(e)for(f=0;f<e.length;f++)i=e[f],t=this.constructor.metaForProperty(i),l=t.options.key||i,c=t.kind==="belongsTo"?this.serializeBelongsTo(i,t):this.serializeHasMany(i,t),r[l]=c;return h?(o={},o[h]=r,o):r},save:function(){var i=this.constructor.adapter,r,u;return t(this,"isSaving",!0),n(this,"isNew")?i.createRecord(this):n(this,"isDirty")?i.saveRecord(this):(r=this,u=new Ember.RSVP.Promise(function(n){n(r)}),t(this,"isSaving",!1),u)},reload:function(){return this.getWithDefault("_dirtyAttributes",[]).clear(),this.constructor.reload(this.get(n(this.constructor,"primaryKey")))},revert:function(){this.getWithDefault("_dirtyAttributes",[]).clear(),this.notifyPropertyChange("_data")},didCreateRecord:function(){var i=n(this.constructor,"primaryKey"),r=n(this,i);t(this,"isNew",!1),t(this,"_dirtyAttributes",[]),this.constructor.addToRecordArrays(this),this.trigger("didCreateRecord"),this.didSaveRecord()},didSaveRecord:function(){t(this,"isSaving",!1),this.trigger("didSaveRecord"),this.get("isDirty")&&this._copyDirtyAttributesToData()},deleteRecord:function(){return this.constructor.adapter.deleteRecord(this)},didDeleteRecord:function(){this.constructor.removeFromRecordArrays(this),t(this,"isDeleted",!0),this.trigger("didDeleteRecord")},_copyDirtyAttributesToData:function(){var u,i,f,r,e;if(this._dirtyAttributes){for(u=this._dirtyAttributes,i=n(this,"_data"),i||(i={},t(this,"_data",i)),r=0,e=u.length;r<e;r++)f=u[r],i[this.dataKey(f)]=this.cacheFor(f);t(this,"_dirtyAttributes",[])}},dataDidChange:Ember.observer(function(){this._reloadHasManys()},"_data"),_registerHasManyArray:function(n){this._hasManyArrays||(this._hasManyArrays=Ember.A([])),this._hasManyArrays.pushObject(n)},_reloadHasManys:function(){var u,r,i,f;if(this._hasManyArrays)for(u=0;u<this._hasManyArrays.length;u++){for(i=this._hasManyArrays[u],f=this._getHasManyContent(n(i,"key"),n(i,"modelClass"),n(i,"embedded")),r=0;r<i.get("length");r++)i.objectAt(r).get("isNew")&&f.addObject(i.objectAt(r)._reference);t(i,"content",f)}},_getHasManyContent:function(t,i,r){var u=n(this,"_data."+t),f,o,e;return u&&(r?(o=n(i,"primaryKey"),f=function(n){return e=i._getOrCreateReferenceForId(n[o]),e.data=n,e}):f=function(n){return i._getOrCreateReferenceForId(n)},u=Ember.EnumerableUtils.map(u,f)),Ember.A(u||[])}}),Ember.Model.reopenClass({primaryKey:"id",adapter:Ember.Adapter.create(),_clientIdCounter:1,getAttributes:function(){this.proto();var n=this._attributes||[];return typeof this.superclass.getAttributes=="function"&&(n=this.superclass.getAttributes().concat(n)),n},getRelationships:function(){this.proto();var n=this._relationships||[];return typeof this.superclass.getRelationships=="function"&&(n=this.superclass.getRelationships().concat(n)),n},fetch:function(n){return arguments.length?Ember.isArray(n)?this._findFetchMany(n,!0):typeof n=="object"?this._findFetchQuery(n,!0):this._findFetchById(n,!0):this._findFetchAll(!0)},find:function(n){return arguments.length?Ember.isArray(n)?this._findFetchMany(n,!1):typeof n=="object"?this._findFetchQuery(n,!1):this._findFetchById(n,!1):this._findFetchAll(!1)},findQuery:function(n){return this._findFetchQuery(n,!1)},fetchQuery:function(n){return this._findFetchQuery(n,!0)},_findFetchQuery:function(n,t){var i=Ember.RecordArray.create({modelClass:this,_query:n}),r=this.adapter.findQuery(this,i,n);return t?r:i},findMany:function(n){return this._findFetchMany(n,!1)},fetchMany:function(n){return this._findFetchMany(n,!0)},_findFetchMany:function(n,t){Ember.assert("findFetchMany requires an array",Ember.isArray(n));var i=Ember.RecordArray.create({_ids:n,modelClass:this}),r;return this.recordArrays||(this.recordArrays=[]),this.recordArrays.push(i),this._currentBatchIds?(u(this._currentBatchIds,n),this._currentBatchRecordArrays.push(i)):(this._currentBatchIds=u([],n),this._currentBatchRecordArrays=[i]),t&&(r=Ember.Deferred.create(),Ember.set(r,"resolveWith",i),this._currentBatchDeferreds||(this._currentBatchDeferreds=[]),this._currentBatchDeferreds.push(r)),Ember.run.scheduleOnce("data",this,this._executeBatch),t?r:i},findAll:function(){return this._findFetchAll(!1)},fetchAll:function(){return this._findFetchAll(!0)},_findFetchAll:function(n){var r=this,i,t;return this._findAllRecordArray?n?new Ember.RSVP.Promise(function(n){n(r._findAllRecordArray)}):this._findAllRecordArray:(i=this._findAllRecordArray=Ember.RecordArray.create({modelClass:this}),t=this.adapter.findAll(this,i),t.then&&t.then(null,function(){return r._findAllRecordArray=null,Ember.RSVP.reject.apply(null,arguments)}),n?t:i)},findById:function(n){return this._findFetchById(n,!1)},fetchById:function(n){return this._findFetchById(n,!0)},_findFetchById:function(t,i){var r=this.cachedRecordForId(t),f=n(r,"isLoaded"),e=n(this,"adapter"),u;return f?i?new Ember.RSVP.Promise(function(n){n(r)}):r:(u=this._fetchById(r,t),i?u:r)},_currentBatchIds:null,_currentBatchRecordArrays:null,_currentBatchDeferreds:null,reload:function(n){var t=this.cachedRecordForId(n);return t.set("isLoaded",!1),this._fetchById(t,n)},_fetchById:function(t,i){var f=n(this,"adapter"),u;return f.findMany&&!f.findMany.isUnimplemented?(this._currentBatchIds?r(this._currentBatchIds,i)||this._currentBatchIds.push(i):(this._currentBatchIds=[i],this._currentBatchRecordArrays=[]),u=Ember.Deferred.create(),Ember.set(u,"resolveWith",t),this._currentBatchDeferreds||(this._currentBatchDeferreds=[]),this._currentBatchDeferreds.push(u),Ember.run.scheduleOnce("data",this,this._executeBatch),u):f.find(t,i)},_executeBatch:function(){var u=this._currentBatchIds,o=this._currentBatchRecordArrays,t=this._currentBatchDeferreds,s=this,i=[],f,r,e;for(this._currentBatchIds=null,this._currentBatchRecordArrays=null,this._currentBatchDeferreds=null,r=0;r<u.length;r++)this.cachedRecordForId(u[r]).get("isLoaded")||i.push(u[r]);i.length===1?f=n(this,"adapter").find(this.cachedRecordForId(i[0]),i[0]):(e=Ember.RecordArray.create({_ids:u}),i.length===0?(f=new Ember.RSVP.Promise(function(n){n(e)}),e.notifyLoaded()):f=n(this,"adapter").findMany(this,e,i)),f.then(function(){for(var r,n=0,i=o.length;n<i;n++)o[n].loadForFindMany(s);if(t)for(n=0,i=t.length;n<i;n++)r=Ember.get(t[n],"resolveWith"),t[n].resolve(r)}).then(null,function(n){if(t)for(var i=0,r=t.length;i<r;i++)t[i].reject(n)})},getCachedReferenceRecord:function(n){var t=this._getReferenceById(n);return t?t.record:undefined},cachedRecordForId:function(t){var i=this.getCachedReferenceRecord(t),f,r,u;return i||(f=n(this,"primaryKey"),r={isLoaded:!1},r[f]=t,i=this.create(r),u=this.sideloadedData&&this.sideloadedData[t],u&&i.load(t,u)),i},addToRecordArrays:function(n){this._findAllRecordArray&&this._findAllRecordArray.pushObject(n),this.recordArrays&&this.recordArrays.forEach(function(t){t instanceof Ember.FilteredRecordArray?(t.registerObserversOnRecord(n),t.updateFilter()):t.pushObject(n)})},unload:function(t){this.removeFromRecordArrays(t);var i=t.get(n(this,"primaryKey"));this.removeFromCache(i)},clearCache:function(){this.sideloadedData=undefined,this._referenceCache=undefined},removeFromCache:function(n){this.sideloadedData&&this.sideloadedData[n]&&delete this.sideloadedData[n],this._referenceCache&&this._referenceCache[n]&&delete this._referenceCache[n]},removeFromRecordArrays:function(n){this._findAllRecordArray&&this._findAllRecordArray.removeObject(n),this.recordArrays&&this.recordArrays.forEach(function(t){t.removeObject(n)})},findFromCacheOrLoad:function(t){var i;return i=t[n(this,"primaryKey")]?this.cachedRecordForId(t[n(this,"primaryKey")]):this.create({isLoaded:!1}),i.load(t[n(this,"primaryKey")],t),i},registerRecordArray:function(n){this.recordArrays||(this.recordArrays=[]),this.recordArrays.push(n)},unregisterRecordArray:function(n){this.recordArrays&&Ember.A(this.recordArrays).removeObject(n)},forEachCachedRecord:function(n){if(this._referenceCache){var t=Object.keys(this._referenceCache);t.map(function(n){return this._getReferenceById(n).record},this).forEach(n)}},load:function(t){var i,f;for(Ember.typeOf(t)!=="array"&&(t=[t]),this.sideloadedData||(this.sideloadedData={}),i=0,f=t.length;i<f;i++){var r=t[i],u=r[n(this,"primaryKey")],e=this.getCachedReferenceRecord(u);e?e.load(u,r):this.sideloadedData[u]=r}},_getReferenceById:function(n){return this._referenceCache||(this._referenceCache={}),this._referenceCache[n]},_getOrCreateReferenceForId:function(n){var t=this._getReferenceById(n);return t||(t=this._createReference(n)),t},_createReference:function(n){this._referenceCache||(this._referenceCache={}),Ember.assert("The id "+n+" has alread been used with another record of type "+this.toString()+".",!n||!this._referenceCache[n]);var t={id:n,clientId:this._clientIdCounter++};return this._cacheReference(t),t},_cacheReference:function(n){this._referenceCache||(this._referenceCache={}),n.id&&(this._referenceCache[n.id]=n)}})}(),function(){var n=Ember.get;Ember.hasMany=function(n,t){t=t||{};var i={type:n,isRelationship:!0,options:t,kind:"hasMany"},r=t.key;return Ember.computed(function(){return typeof n=="string"&&(n=Ember.get(Ember.lookup,n)),this.getHasMany(r,n,i)}).property().meta(i)},Ember.Model.reopen({getHasMany:function(n,t,i){var r=i.options.embedded,f=r?Ember.EmbeddedHasManyArray:Ember.HasManyArray,u=f.create({parent:this,modelClass:t,content:this._getHasManyContent(n,t,r),embedded:r,key:n,relationshipKey:i.relationshipKey});return this._registerHasManyArray(u),u}})}(),function(){function i(){return typeof this.type=="string"&&(this.type=Ember.get(Ember.lookup,this.type)),this.type}var n=Ember.get,t=Ember.set;Ember.belongsTo=function(r,u){u=u||{};var f={type:r,isRelationship:!0,options:u,kind:"belongsTo",getType:i},e=u.key;return Ember.computed(function(i,u,o){r=f.getType();var s=n(this,"_dirtyAttributes"),h=!1;return s||(s=[],h=!0),arguments.length>1?(u&&(Ember.assert(Ember.String.fmt("Attempted to set property of type: %@ with a value of type: %@",[u.constructor,r]),u instanceof r),o!==u?s.pushObject(i):s.removeObject(i),h&&t(this,"_dirtyAttributes",s)),u===undefined?null:u):this.getBelongsTo(e,r,f)}).property("_data").meta(f)},Ember.Model.reopen({getBelongsTo:function(t,i,r){var u=n(this,"_data."+t),f,o,e;return Ember.isNone(u)?null:(r.options.embedded?(o=n(i,"primaryKey"),e=u[o],f=i.create({isLoaded:!1,id:e}),f.load(e,u)):f=i.find(u),f)}})}(),function(){function r(n,t){return t&&t.deserialize?t.deserialize(n):t&&Ember.Model.dataTypes[t]?Ember.Model.dataTypes[t].deserialize(n):n}function u(n,t){return t&&t.serialize?t.serialize(n):t&&Ember.Model.dataTypes[t]?Ember.Model.dataTypes[t].serialize(n):n}var n=Ember.get,t=Ember.set,i=Ember.meta;Ember.Model.dataTypes={},Ember.Model.dataTypes[Date]={deserialize:function(n){return n?new Date(n):null},serialize:function(n){return n?n.toISOString():null},isEqual:function(n,t){return n instanceof Date&&(n=this.serialize(n)),t instanceof Date&&(t=this.serialize(t)),n===t}},Ember.Model.dataTypes[Number]={deserialize:function(n){return!n&&n!==0?null:Number(n)},serialize:function(n){return!n&&n!==0?null:Number(n)}},Ember.attr=function(f,e){return Ember.computed(function(o,s){var h=n(this,"_data"),a=this.dataKey(o),l=h&&n(h,a),y=i(this).proto===this,c=n(this,"_dirtyAttributes"),v=!1;return(c||(c=[],v=!0),arguments.length===2)?(y&&(h||(h={},t(this,"_data",h)),l=h[a]=s),l!==u(s,f)?c.pushObject(o):c.removeObject(o),v&&t(this,"_dirtyAttributes",c),s):l==null&&e&&e.defaultValue!=null?Ember.copy(e.defaultValue):this.getAttr(o,r(l,f))}).property("_data").meta({isAttribute:!0,type:f,options:e})}}(),function(){var n=Ember.get;Ember.RESTAdapter=Ember.Adapter.extend({find:function(n,t){var i=this.buildURL(n.constructor,t),r=this;return this.ajax(i).then(function(i){return r.didFind(n,t,i),n})},didFind:function(t,i,r){var u=n(t.constructor,"rootKey"),f=u?r[u]:r;t.load(i,f)},findAll:function(n,t){var i=this.buildURL(n),r=this;return this.ajax(i).then(function(i){return r.didFindAll(n,t,i),t})},didFindAll:function(t,i,r){var u=n(t,"collectionKey"),f=u?r[u]:r;i.load(t,f)},findQuery:function(n,t,i){var r=this.buildURL(n),u=this;return this.ajax(r,i).then(function(r){return u.didFindQuery(n,t,i,r),t})},didFindQuery:function(t,i,r,u){var f=n(t,"collectionKey"),e=f?u[f]:u;i.load(t,e)},createRecord:function(n){var t=this.buildURL(n.constructor),i=this;return this.ajax(t,n.toJSON(),"POST").then(function(t){return i.didCreateRecord(n,t),n})},didCreateRecord:function(t,i){var r=n(t.constructor,"rootKey"),f=n(t.constructor,"primaryKey"),u=r?i[r]:i;t.load(u[f],u),t.didCreateRecord()},saveRecord:function(t){var i=n(t.constructor,"primaryKey"),r=this.buildURL(t.constructor,n(t,i)),u=this;return this.ajax(r,t.toJSON(),"PUT").then(function(n){return u.didSaveRecord(t,n),t})},didSaveRecord:function(n){n.didSaveRecord()},deleteRecord:function(t){var i=n(t.constructor,"primaryKey"),r=this.buildURL(t.constructor,n(t,i)),u=this;return this.ajax(r,t.toJSON(),"DELETE").then(function(n){u.didDeleteRecord(t,n)})},didDeleteRecord:function(n){n.didDeleteRecord()},ajax:function(n,t,i,r){return this._ajax(n,t,i||"GET",r)},buildURL:function(t,i){var r=n(t,"url");if(!r)throw new Error("Ember.RESTAdapter requires a `url` property to be specified");return Ember.isEmpty(i)?r+".json":r+"/"+i+".json"},ajaxSettings:function(n,t){return{url:n,type:t,dataType:"json"}},_ajax:function(n,t,i,r){return r||(r=this.ajaxSettings(n,i)),new Ember.RSVP.Promise(function(n,u){t&&(i==="GET"?r.data=t:(r.contentType="application/json; charset=utf-8",r.data=JSON.stringify(t))),r.success=function(t){Ember.run(null,n,t)},r.error=function(n){n&&(n.then=null),Ember.run(null,u,n)},Ember.$.ajax(r)})}})}(),function(){var n=Ember.get;Ember.LoadPromise=Ember.Object.extend(Ember.DeferredMixin,{init:function(){this._super.apply(this,arguments);var t=n(this,"target");if(n(t,"isLoaded")&&!n(t,"isNew"))this.resolve(t);else t.one("didLoad",this,function(){this.resolve(t)})}}),Ember.loadPromise=function(n){return Ember.isNone(n)?null:n.then?n:Ember.LoadPromise.create({target:n})}}(),function(){if(Ember.DataAdapter){var n=Ember.get,t=Ember.String.capitalize,i=Ember.String.underscore,r=Ember.DataAdapter.extend({getFilters:function(){return[{name:"isNew",desc:"New"},{name:"isModified",desc:"Modified"},{name:"isClean",desc:"Clean"}]},detect:function(n){return n!==Ember.Model&&Ember.Model.detect(n)},columnsForType:function(n){var r=[],u=0,f=this;return n.getAttributes().forEach(function(n){if(u++>f.attributeLimit)return!1;var e=t(i(n).replace("_"," "));r.push({name:n,desc:e})}),r},getRecords:function(n){var t=[];return n.forEachCachedRecord(function(n){t.push(n)}),t},getRecordColumnValues:function(t){var r=this,u=0,i={id:n(t,"id")};return t.constructor.getAttributes().forEach(function(f){if(u++>r.attributeLimit)return!1;var e=n(t,f);i[f]=e}),i},getRecordKeywords:function(t){var i=[],r=Ember.A(["id"]);return t.constructor.getAttributes().forEach(function(n){r.push(n)}),r.forEach(function(r){i.push(n(t,r))}),i},getRecordFilterValues:function(n){return{isNew:n.get("isNew"),isModified:n.get("isDirty")&&!n.get("isNew"),isClean:!n.get("isDirty")}},getRecordColor:function(n){var t="black";return n.get("isNew")?t="green":n.get("isDirty")&&(t="blue"),t},observeRecord:function(n,t){var i=Ember.A(),u=this,r=Ember.A(["id","isNew","isDirty"]);return n.constructor.getAttributes().forEach(function(n){r.push(n)}),r.forEach(function(r){var f=function(){t(u.wrapRecord(n))};Ember.addObserver(n,r,f),i.push(function(){Ember.removeObserver(n,r,f)})}),function(){i.forEach(function(n){n()})}}});Ember.onLoad("Ember.Application",function(n){n.initializer({name:"dataAdapter",initialize:function(n,t){t.register("dataAdapter:main",r)}})})}}()